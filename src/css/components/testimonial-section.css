@layer components {
    .testimonials-section {
        background-color: var(--color-white);
        background-image:
                radial-gradient(circle at 40% 10%, var(--color-light1), transparent 15%),
                radial-gradient(circle at 15% 25%, var(--color-light3), transparent 15%),
                radial-gradient(circle at 35% 40%, var(--color-light5) 0%, transparent 15%);
        will-change: background-position, filter;
        background-size: 200% 200%;
        background-repeat: no-repeat;
    }

    .testimonial-title-wrapper {
        @apply flex items-center justify-center gap-2 md:gap-20;
        flex-wrap: nowrap;
        overflow: hidden;
        padding-inline: 0;
        margin-bottom: 2rem;
    }

    .quote-icon {
        @apply flex-shrink-0 opacity-60 w-6 md:w-12;
        opacity: 0.6;
        flex-shrink: 0;
        filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.2));

    }

    .quote-icon-left {
        transform: scaleX(-1);
    }

    .testimonial-title {
        @apply leading-tight;
        font-family: var(--font-heading);
        background-image: linear-gradient(to right, var(--color-primary), var(--color-secondary));
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        color: transparent;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .testimonials-grid {
        display: grid;
        grid-template-columns: 1fr; /* mobile default */
        gap: 2rem;
        margin-top: 4rem;

        @media (min-width: 768px) {
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            grid-auto-rows: auto;
            grid-auto-flow: dense;
        }
    }

    @media (min-width: 768px) {
        .testimonial-card.wide {
            grid-column: span 2;
        }

        .testimonial-card.tall {
            grid-row: span 2;
        }

        .testimonial-card.big {
            grid-column: span 2;
            grid-row: span 2;
        }
    }

    .testimonial-card {
        @apply p-6 rounded-2xl text-left transition-transform duration-300 ease-in-out;
        background: rgba(255, 255, 255, 0.3);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid var(--color-border);
        box-shadow: 0 0 0 1px var(--color-border), 0 8px 20px rgba(0, 0, 0, 0.08);
        height: 100%;
    }

    .testimonial-card:hover {
        backdrop-filter: blur(16px);
        background: rgba(255, 255, 255, 0.18);
        box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15);
    }

    .testimonial-text {
        @apply text-base mb-4;
        font-style: italic;
        color: var(--color-text);
    }

    .testimonial-footer {
        @apply flex items-center gap-4;
        bottom: 1.5rem;
        left: 1.5rem;
    }

    .testimonial-avatar {
        @apply w-12 h-12 rounded-full object-cover border-2 border-white;
        box-shadow: 0 0 0 1px rgba(0,0,0,0.1);
    }

    .testimonial-info {
        @apply flex flex-col;
    }

    .testimonial-name {
        @apply font-semibold text-sm;
        color: var(--color-primary);
    }

    .testimonial-role {
        @apply text-xs;
        color: var(--color-muted);
    }
}
